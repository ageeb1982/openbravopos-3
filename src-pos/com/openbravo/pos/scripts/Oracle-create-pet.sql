
SELECT TO_CHAR(SYSDATE,'DD-MM-YYYY hh24:mi:ss') AS STARTS_SCRIPT FROM DUAL;
SELECT TRIM(0 FROM SYS_CONTEXT('USERENV','INSTANCE_NAME')) AS INSTANCE_NAME, TRIM(0 FROM SYS_CONTEXT('USERENV','CURRENT_USER')) AS CURRENT_USER FROM DUAL;

SET SERVEROUTPUT ON;
SET DEFINE OFF;

-- IMPORT POS TABLES
CREATE SYNONYM PO_ADM.CUSTOMERS    FOR OB_ADM.CUSTOMERS;
CREATE SYNONYM PO_ADM.RESERVATIONS FOR OB_ADM.RESERVATIONS;
CREATE SYNONYM PO_ADM.RESERVATION_CUSTOMERS FOR OB_ADM.RESERVATION_CUSTOMERS;
CREATE SYNONYM PO_ADM.TICKETS  FOR OB_ADM.TICKETS;
CREATE SYNONYM PO_ADM.PRODUCTS FOR OB_ADM.PRODUCTS;
CREATE SYNONYM PO_ADM.FLOORS   FOR OB_ADM.FLOORS;
CREATE SYNONYM PO_ADM.PLACES   FOR OB_ADM.PLACES;

GRANT REFERENCES, SELECT, INSERT, UPDATE, DELETE ON OB_ADM.CUSTOMERS TO PO_ADM;
GRANT REFERENCES, SELECT, INSERT, UPDATE, DELETE ON OB_ADM.RESERVATIONS TO PO_ADM;
GRANT REFERENCES, SELECT, INSERT, UPDATE, DELETE ON OB_ADM.RESERVATION_CUSTOMERS TO PO_ADM;
GRANT REFERENCES, SELECT ON OB_ADM.TICKETS TO PO_ADM;
GRANT REFERENCES, SELECT ON OB_ADM.PRODUCTS TO PO_ADM;
GRANT REFERENCES, SELECT ON OB_ADM.FLOORS TO PO_ADM;
GRANT REFERENCES, SELECT ON OB_ADM.PLACES TO PO_ADM;


-- CREATE PORTAL TABLES

CREATE TABLE PO_ADM.PERSON (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL,
    ADDRESS VARCHAR2(512 CHAR),
    ADDRESS2 VARCHAR2(512 CHAR),
    POSTAL VARCHAR2(512 CHAR),
    CITY VARCHAR2(512 CHAR),
    REGION VARCHAR2(512 CHAR),
    COUNTRY VARCHAR2(512 CHAR),
    FIRSTNAME VARCHAR2(512 CHAR),
    LASTNAME VARCHAR2(512 CHAR),
    EMAIL VARCHAR2(512 CHAR),
    PHONE VARCHAR2(512 CHAR),
    PHONE2 VARCHAR2(512 CHAR),
    NOTES VARCHAR2(512 CHAR),
    PHOTO BLOB
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.PERSON ADD CONSTRAINT PK_PERSON PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.RESPONSIBLE (
    ID NUMERIC(18,0) NOT NULL,
    ID_PERSON NUMERIC(18,0),
    ID_CUSTOMER NUMERIC(18,0)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.RESPONSIBLE ADD CONSTRAINT PK_RESPONSIBLE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.RESPONSIBLE ADD CONSTRAINT FK_RES_PERS FOREIGN KEY ( ID_PERSON ) REFERENCES PO_ADM.PERSON( ID );
ALTER TABLE PO_ADM.RESPONSIBLE ADD CONSTRAINT FK_RES_CUST FOREIGN KEY ( ID_CUSTOMER ) REFERENCES PO_ADM.CUSTOMERS ( ID );
CREATE INDEX PO_ADM.IFK_RES_PERS ON PO_ADM.RESPONSIBLE ( ID_PERSON ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_RES_CUST ON PO_ADM.RESPONSIBLE ( ID_CUSTOMER ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.RESPONSIBLE_AUTH (
    ID_RESPONSIBLE NUMERIC(18,0) NOT NULL,
    ID_PERSON NUMERIC(18,0) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.RESPONSIBLE_AUTH ADD CONSTRAINT PK_RESPONSIBLE_AUTH PRIMARY KEY ( ID_RESPONSIBLE, ID_PERSON ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.RESPONSIBLE_AUTH ADD CONSTRAINT FK_RESAUT_RESP FOREIGN KEY ( ID_RESPONSIBLE ) REFERENCES PO_ADM.RESPONSIBLE( ID );
ALTER TABLE PO_ADM.RESPONSIBLE_AUTH ADD CONSTRAINT FK_RESAUT_PERS FOREIGN KEY ( ID_PERSON ) REFERENCES PO_ADM.PERSON( ID );

CREATE TABLE PO_ADM.BREED (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.BREED ADD CONSTRAINT PK_BREED PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.STATURE (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STATURE ADD CONSTRAINT PK_STATURE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.BEHAVIOR (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.BEHAVIOR ADD CONSTRAINT PK_BEHAVIOR PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.CARE (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.CARE ADD CONSTRAINT PK_CARE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.ADMINISTERING (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.ADMINISTERING ADD CONSTRAINT PK_ADMINISTERING PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.AGE (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.AGE ADD CONSTRAINT PK_AGE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.FOODPLACE (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.FOODPLACE ADD CONSTRAINT PK_FOODPLACE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.QUANTITY (
    ID NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.QUANTITY ADD CONSTRAINT PK_QUANTITY PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.PET (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL,
    GENDER NUMERIC(1,0) NOT NULL,
    BIRTHDAY DATE,
    ID_RESPONSIBLE NUMERIC(18,0),
    ID_AGE NUMERIC(18,0),
    ID_STATURE NUMERIC(3,0),
    ID_BEHAVIOR NUMERIC(3,0),
    ID_BREED NUMERIC(18,0),
    VACCINE_CARD BLOB,
    PHOTO BLOB
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.PET ADD CONSTRAINT PK_PET PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.PET ADD CONSTRAINT FK_PET_RES FOREIGN KEY ( ID_RESPONSIBLE ) REFERENCES PO_ADM.RESPONSIBLE( ID );
ALTER TABLE PO_ADM.PET ADD CONSTRAINT FK_PET_AGE FOREIGN KEY ( ID_AGE ) REFERENCES PO_ADM.AGE( ID );
ALTER TABLE PO_ADM.PET ADD CONSTRAINT FK_PET_BRE FOREIGN KEY ( ID_BREED ) REFERENCES PO_ADM.BREED( ID );
ALTER TABLE PO_ADM.PET ADD CONSTRAINT FK_PET_STA FOREIGN KEY ( ID_STATURE ) REFERENCES PO_ADM.STATURE( ID );
ALTER TABLE PO_ADM.PET ADD CONSTRAINT FK_PET_BEH FOREIGN KEY ( ID_BEHAVIOR ) REFERENCES PO_ADM.BEHAVIOR( ID );
CREATE INDEX PO_ADM.IFK_PET_RES ON PO_ADM.PET ( ID_RESPONSIBLE ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_PET_AGE ON PO_ADM.PET ( ID_AGE ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_PET_BRE ON PO_ADM.PET ( ID_BREED ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_PET_STA ON PO_ADM.PET ( ID_STATURE ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_PET_BEH ON PO_ADM.PET ( ID_BEHAVIOR ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.PERIODICITY (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.PERIODICITY ADD CONSTRAINT PK_PERIODICITY PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.VACCINE (
    ID NUMERIC(18,0) NOT NULL,
    ID_PRODUCT NUMERIC(18,0),
    ID_AGE NUMERIC(18,0),
    ID_PERIODICITY NUMERIC(18,0),
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.VACCINE ADD CONSTRAINT PK_VACCINE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.VACCINE ADD CONSTRAINT FK_VAC_PROD FOREIGN KEY ( ID_PRODUCT ) REFERENCES PO_ADM.PRODUCTS( ID );
ALTER TABLE PO_ADM.VACCINE ADD CONSTRAINT FK_VAC_AGE FOREIGN KEY ( ID_AGE ) REFERENCES PO_ADM.AGE( ID );
ALTER TABLE PO_ADM.VACCINE ADD CONSTRAINT FK_VAC_PERI FOREIGN KEY ( ID_PERIODICITY ) REFERENCES PO_ADM.PERIODICITY( ID );
CREATE INDEX PO_ADM.IFK_VAC_PROD ON PO_ADM.VACCINE ( ID_PRODUCT ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_VAC_AGE ON PO_ADM.VACCINE ( ID_AGE ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_VAC_PERI ON PO_ADM.VACCINE ( ID_PERIODICITY ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.PET_VACCINE (
    ID NUMERIC(18,0) NOT NULL,
    ID_PET NUMERIC(18,0),
    ID_VACCINE NUMERIC(18,0),
    STATUS NUMERIC(3,0),
    RECORD_DATE DATE,
    NOTES VARCHAR2(512 CHAR)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.PET_VACCINE ADD CONSTRAINT PK_PET_VACCINE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.PET_VACCINE ADD CONSTRAINT FK_PETVAC_PET FOREIGN KEY ( ID_PET ) REFERENCES PO_ADM.PET( ID );
ALTER TABLE PO_ADM.PET_VACCINE ADD CONSTRAINT FK_PETVAC_VAC FOREIGN KEY ( ID_VACCINE ) REFERENCES PO_ADM.VACCINE( ID );
CREATE INDEX PO_ADM.IFK_PETVAC_PET ON PO_ADM.PET_VACCINE ( ID_PET ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_PETVAC_VAC ON PO_ADM.PET_VACCINE ( ID_VACCINE ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.LODGING (
    ID NUMERIC(18,0) NOT NULL,
    ID_FLOOR NUMERIC(18,0) NOT NULL,
    ID_STATURE NUMERIC(3,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.LODGING ADD CONSTRAINT PK_LODGING PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.LODGING ADD CONSTRAINT FK_LOD_FLOOR FOREIGN KEY ( ID_FLOOR ) REFERENCES PO_ADM.FLOORS( ID );
ALTER TABLE PO_ADM.LODGING ADD CONSTRAINT FK_LOD_STA FOREIGN KEY ( ID_STATURE ) REFERENCES PO_ADM.STATURE( ID );
CREATE INDEX PO_ADM.IFK_LOD_FLOOR ON PO_ADM.LODGING ( ID_FLOOR ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_LOD_STA ON PO_ADM.LODGING ( ID_STATURE ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.STAY (
    ID NUMERIC(18,0) NOT NULL,
    ID_LODGING NUMERIC(18,0) NOT NULL,
    ID_PET NUMERIC(18,0) NOT NULL,
    STATUS NUMERIC(3,0),
    CHECKIN DATE,
    CHECKOUT DATE,
    ID_BEHAVIOR NUMERIC(3,0),
    NOTES VARCHAR2(512 CHAR)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STAY ADD CONSTRAINT PK_STAY PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.STAY ADD CONSTRAINT FK_STAY_LOD FOREIGN KEY ( ID_LODGING ) REFERENCES PO_ADM.LODGING( ID );
ALTER TABLE PO_ADM.STAY ADD CONSTRAINT FK_STAY_PET FOREIGN KEY ( ID_PET ) REFERENCES PO_ADM.PET( ID );
ALTER TABLE PO_ADM.STAY ADD CONSTRAINT FK_STAY_BEH FOREIGN KEY ( ID_BEHAVIOR ) REFERENCES PO_ADM.BEHAVIOR( ID );
CREATE INDEX PO_ADM.IFK_STAY_LOD ON PO_ADM.STAY ( ID_LODGING ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAY_PET ON PO_ADM.STAY ( ID_PET ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAY_BEH ON PO_ADM.STAY ( ID_BEHAVIOR ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.ACCESORY (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.ACCESORY ADD CONSTRAINT PK_ACCESORY PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.STAY_ACCESORY (
    ID NUMERIC(18,0) NOT NULL,
    ID_STAY NUMERIC(18,0) NOT NULL,
    ID_ACCESORY NUMERIC(18,0) NOT NULL,
    STATUS NUMERIC(3,0),
    RECORD_DATE DATE,
    NOTES VARCHAR2(512 CHAR),
    PHOTO BLOB
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STAY_ACCESORY ADD CONSTRAINT PK_STAY_ACCESORY PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.STAY_ACCESORY ADD CONSTRAINT FK_STAACC_STAY FOREIGN KEY ( ID_STAY ) REFERENCES PO_ADM.STAY( ID );
ALTER TABLE PO_ADM.STAY_ACCESORY ADD CONSTRAINT FK_STAACC_ACC FOREIGN KEY ( ID_ACCESORY ) REFERENCES PO_ADM.ACCESORY( ID );
CREATE INDEX PO_ADM.IFK_STAACC_STAY ON PO_ADM.STAY_ACCESORY ( ID_STAY ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAACC_ACC ON PO_ADM.STAY_ACCESORY ( ID_ACCESORY ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.FOOD (
    ID NUMERIC(18,0) NOT NULL,
    ID_PRODUCT NUMERIC(18,0),
    ID_QUANTITY NUMERIC(18,0),
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.FOOD ADD CONSTRAINT PK_FOOD PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.FOOD ADD CONSTRAINT FK_FOOD_PRO FOREIGN KEY ( ID_PRODUCT ) REFERENCES PO_ADM.PRODUCTS( ID );
ALTER TABLE PO_ADM.FOOD ADD CONSTRAINT FK_FOOD_QUA FOREIGN KEY ( ID_QUANTITY ) REFERENCES PO_ADM.PRODUCTS( ID );
CREATE INDEX PO_ADM.IFK_FOOD_PRO ON PO_ADM.FOOD ( ID_PRODUCT ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_FOOD_QUA ON PO_ADM.FOOD ( ID_QUANTITY ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.STAY_FOOD (
    ID NUMERIC(18,0) NOT NULL,
    ID_STAY NUMERIC(18,0) NOT NULL,
    ID_FOOD NUMERIC(18,0) NOT NULL,
    ID_FOODPLACE NUMERIC(3,0) NOT NULL,
    STATUS NUMERIC(3,0),
    RECORD_DATE DATE,
    NOTES VARCHAR2(512 CHAR)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STAY_FOOD ADD CONSTRAINT PK_STAY_FOOD PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.STAY_FOOD ADD CONSTRAINT FK_STAFOO_STAY FOREIGN KEY ( ID_STAY ) REFERENCES PO_ADM.STAY( ID );
ALTER TABLE PO_ADM.STAY_FOOD ADD CONSTRAINT FK_STAFOO_FOOD FOREIGN KEY ( ID_FOOD ) REFERENCES PO_ADM.FOOD( ID );
ALTER TABLE PO_ADM.STAY_FOOD ADD CONSTRAINT FK_STAFOO_FOODPLACE FOREIGN KEY ( ID_FOODPLACE ) REFERENCES PO_ADM.FOODPLACE( ID );
CREATE INDEX PO_ADM.IFK_STAFOO_STAY ON PO_ADM.STAY_FOOD ( ID_STAY ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAFOO_FOOD ON PO_ADM.STAY_FOOD ( ID_FOOD ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAFOO_FOODPLACE ON PO_ADM.STAY_FOOD ( ID_FOODPLACE ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.GROOMING (
    ID NUMERIC(18,0) NOT NULL,
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.GROOMING ADD CONSTRAINT PK_GROOMING PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.GROOMING_PRODUCT (
    ID_GROOMING NUMERIC(18,0) NOT NULL,
    ID_PRODUCT NUMERIC(18,0) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.GROOMING_PRODUCT ADD CONSTRAINT PK_GROO_PROD PRIMARY KEY ( ID_GROOMING, ID_PRODUCT ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.GROOMING_PRODUCT ADD CONSTRAINT FK_GROO_PROD1 FOREIGN KEY ( ID_GROOMING ) REFERENCES PO_ADM.GROOMING( ID );
ALTER TABLE PO_ADM.GROOMING_PRODUCT ADD CONSTRAINT FK_GROO_PROD2 FOREIGN KEY ( ID_PRODUCT ) REFERENCES PO_ADM.PRODUCTS( ID );

CREATE TABLE PO_ADM.STAY_GROOMING (
    ID NUMERIC(18,0) NOT NULL,
    ID_STAY NUMERIC(18,0) NOT NULL,
    ID_GROOMING NUMERIC(18,0) NOT NULL,
    STATUS NUMERIC(3,0),
    RECORD_DATE DATE,
    NOTES VARCHAR2(512 CHAR)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STAY_GROOMING ADD CONSTRAINT PK_STAY_GRO PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.STAY_GROOMING ADD CONSTRAINT FK_STAGRO_STAY FOREIGN KEY ( ID_STAY ) REFERENCES PO_ADM.STAY( ID );
ALTER TABLE PO_ADM.STAY_GROOMING ADD CONSTRAINT FK_STAGRO_GRO FOREIGN KEY ( ID_GROOMING ) REFERENCES PO_ADM.FOOD( ID );
CREATE INDEX PO_ADM.IFK_STAGRO_STAY ON PO_ADM.STAY_GROOMING ( ID_STAY ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAGRO_GRO ON PO_ADM.STAY_GROOMING ( ID_GROOMING ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.MEDICINE (
    ID NUMERIC(18,0) NOT NULL,
    ID_PRODUCT NUMERIC(18,0),
    ID_ADMINISTERING NUMERIC(18,0),
    NAME VARCHAR2(512 CHAR) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.MEDICINE ADD CONSTRAINT PK_MEDICINE PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.MEDICINE ADD CONSTRAINT FK_MED_PROD FOREIGN KEY ( ID_PRODUCT ) REFERENCES PO_ADM.PRODUCTS( ID );
ALTER TABLE PO_ADM.MEDICINE ADD CONSTRAINT FK_MED_ADMI FOREIGN KEY ( ID_ADMINISTERING ) REFERENCES PO_ADM.ADMINISTERING( ID );
CREATE INDEX PO_ADM.IFK_MED_PROD ON PO_ADM.MEDICINE ( ID_PRODUCT ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_MED_ADMI ON PO_ADM.MEDICINE ( ID_ADMINISTERING ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.MEDICINE_CARE (
    ID_MEDICINE NUMERIC(18,0) NOT NULL,
    ID_CARE NUMERIC(18,0) NOT NULL
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.MEDICINE_CARE ADD CONSTRAINT PK_MED_CARES PRIMARY KEY ( ID_MEDICINE, ID_CARE ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.MEDICINE_CARE ADD CONSTRAINT FK_MEDCAR_MED FOREIGN KEY ( ID_MEDICINE ) REFERENCES PO_ADM.MEDICINE( ID );
ALTER TABLE PO_ADM.MEDICINE_CARE ADD CONSTRAINT FK_MEDCAR_CAR FOREIGN KEY ( ID_CARE ) REFERENCES PO_ADM.CARE( ID );

CREATE TABLE PO_ADM.MEDICINE_QUANTITY (
    ID NUMERIC(18,0) NOT NULL,
    ID_MEDICINE NUMERIC(18,0) NOT NULL,
    ID_QUANTITY NUMERIC(18,0) NOT NULL,
    ID_STATURE NUMERIC(3,0) NOT NULL,
    SHOTS NUMERIC(3,0)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.MEDICINE_QUANTITY ADD CONSTRAINT PK_MEDQUA PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.MEDICINE_QUANTITY ADD CONSTRAINT FK_MEDQUA_MED FOREIGN KEY ( ID_MEDICINE ) REFERENCES PO_ADM.MEDICINE( ID );
ALTER TABLE PO_ADM.MEDICINE_QUANTITY ADD CONSTRAINT FK_MEDQUA_QUA FOREIGN KEY ( ID_QUANTITY ) REFERENCES PO_ADM.QUANTITY( ID );
ALTER TABLE PO_ADM.MEDICINE_QUANTITY ADD CONSTRAINT FK_MEDQUA_STA FOREIGN KEY ( ID_STATURE ) REFERENCES PO_ADM.STATURE( ID );
CREATE INDEX PO_ADM.IFK_MEDQUA_MED ON PO_ADM.MEDICINE_QUANTITY ( ID_MEDICINE ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_MEDQUA_QUA ON PO_ADM.MEDICINE_QUANTITY ( ID_QUANTITY ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_MEDQUA_STA ON PO_ADM.MEDICINE_QUANTITY ( ID_STATURE ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE TABLE PO_ADM.STAY_MEDICINE (
    ID NUMERIC(18,0) NOT NULL,
    ID_STAY NUMERIC(18,0) NOT NULL,
    ID_MEDICINE NUMERIC(18,0) NOT NULL,
    RECORD_DATE DATE,
    STATUS NUMERIC(3,0),
    SHOTS NUMERIC(3,0),
    NOTES VARCHAR2(512 CHAR)
) INITRANS 10 TABLESPACE PO_DATA;
ALTER TABLE PO_ADM.STAY_MEDICINE ADD CONSTRAINT PK_STAMED PRIMARY KEY ( ID ) USING INDEX INITRANS 10 TABLESPACE PO_INDEX;
ALTER TABLE PO_ADM.STAY_MEDICINE ADD CONSTRAINT FK_STAMED_STAY FOREIGN KEY ( ID_STAY ) REFERENCES PO_ADM.STAY( ID );
ALTER TABLE PO_ADM.STAY_MEDICINE ADD CONSTRAINT FK_STAMED_MEDI FOREIGN KEY ( ID_MEDICINE ) REFERENCES PO_ADM.FOOD( ID );
CREATE INDEX PO_ADM.IFK_STAMED_STAY ON PO_ADM.STAY_MEDICINE ( ID_STAY ) INITRANS 10 TABLESPACE PO_INDEX;
CREATE INDEX PO_ADM.IFK_STAMED_MEDI ON PO_ADM.STAY_MEDICINE ( ID_MEDICINE ) INITRANS 10 TABLESPACE PO_INDEX;

CREATE SEQUENCE PO_ADM.SEQ_PERSON MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_BREED MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STATURE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_BEHAVIOR MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_ADMINISTERING MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_AGE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_FOODPLACE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_QUANTITY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_PET MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_PERIODICITY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_VACCINE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_PET_VACCINE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_RESPONSIBLE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_LODGING MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STAY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_ACCESORY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STAY_ACCESORY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_FOOD MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STAY_FOOD MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_GROOMING MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STAY_GROOMING MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_CARE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_MEDICINE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_MEDICINE_QUANTITY MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE PO_ADM.SEQ_STAY_MEDICINE MINVALUE 1 MAXVALUE 999999999999999999 START WITH 1 INCREMENT BY 1 NOCACHE;

COMMIT;

SELECT TO_CHAR(SYSDATE,'DD-MM-YYYY hh24:mi:ss') AS ENDS_SCRIPT FROM DUAL;
